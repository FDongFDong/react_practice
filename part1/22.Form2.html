<!DOCTYPE html>
<html lang="en">

<body>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <div id="root"></div>
  <script type="text/babel">
    const rootElement = document.getElementById("root");
    const App = () => {
      const [message, setMessage] = React.useState("")
      const [phoneNumber, setPhoneNumber] = React.useState("")
      const handleChange = (event) =>{
        // validation 체크는 여기서
        if (event.target.value.startsWith(0)) {
          setMessage("Phone Number is vaild")
          setPhoneNumber(event.target.value)
        } else if(event.target.value.length === 0){
          setPhoneNumber("")
          setMessage("")
        } else {
          setMessage("Phone Number should starts with 0")
        }
  
      }
      const handleSubmit = (event)=>{
        event.preventDefault();
        alert(phoneNumber)       
        // alert(event.target.elements.phone.value)
      }
      return ( 
        <>
          <form onSubmit={handleSubmit}>
            <label htmlFor="phone">Phone Number: </label>
            <br />
            {/* input에 value를 리액트 컴포넌트에서 관리하는 것을 말함 */}
            <input id="phone" name="phone" onChange={handleChange} value={phoneNumber}/>
            <p>{message}</p>
            <br />
            <br />
            <button type="submit" disabled={
              phoneNumber.length === 0 || message !=="Phone Number is valid"}>Submit</button>
          </form>

        </>
      )
    }
    ReactDOM.render(<App />, rootElement);
  </script>
</body>

</html>